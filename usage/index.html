<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="../images/logo_blue.png"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>Usage - Cloud MTA Build Tool</title><link rel="stylesheet" href="../assets/stylesheets/application.4031d38b.css"><link rel="stylesheet" href="../assets/stylesheets/application-palette.224b79ff.css"><meta name="theme-color" content="#2196f3"><script src="../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../assets/fonts/material-icons.css"></head><body dir="ltr" data-md-color-primary="blue" data-md-color-accent=""><svg class="md-svg"><defs><svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#how-to-get-help-on-the-tools-commands" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href=".." title="Cloud MTA Build Tool" class="md-header-nav__button md-logo"><img src="../images/logo_white.png" width="24" height="24"></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">Cloud MTA Build Tool</span><span class="md-header-nav__topic">Usage</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div><div class="md-flex__cell md-flex__cell--shrink"><div class="md-header-nav__source"><a href="https://github.com/SAP/cloud-mta-build-tool/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">GitHub</div></a></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href=".." title="Cloud MTA Build Tool" class="md-nav__button md-logo"><img src="../images/logo_white.png" width="48" height="48"></a>Cloud MTA Build Tool</label><div class="md-nav__source"><a href="https://github.com/SAP/cloud-mta-build-tool/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">GitHub</div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href=".." title="Home" class="md-nav__link">Home</a></li><li class="md-nav__item"><a href="../whatsnew/" title="Important Updates" class="md-nav__link">Important Updates</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3"><label class="md-nav__link" for="nav-3">Download and Installation</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-3">Download and Installation</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../download/" title="Download" class="md-nav__link">Download</a></li><li class="md-nav__item"><a href="../makefile/" title="Make" class="md-nav__link">Make</a></li><li class="md-nav__item"><a href="../tools/" title="Tools" class="md-nav__link">Tools</a></li></ul></nav></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Usage</label><a href="./" title="Usage" class="md-nav__link md-nav__link--active">Usage</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#how-to-get-help-on-the-tools-commands" title="How to get help on the tools commands" class="md-nav__link">How to get help on the tools commands</a></li><li class="md-nav__item"><a href="#how-to-find-out-the-version-of-the-installed-tool" title="How to find out the version of the installed tool" class="md-nav__link">How to find out the version of the installed tool</a></li><li class="md-nav__item"><a href="#how-to-build-an-mta-archive-from-the-project-sources" title="How to build an MTA archive from the project sources" class="md-nav__link">How to build an MTA archive from the project sources</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#overview" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="#prerequisites" title="Prerequisites" class="md-nav__link">Prerequisites</a></li><li class="md-nav__item"><a href="#one-step-build" title="One-step build" class="md-nav__link">One-step build</a></li><li class="md-nav__item"><a href="#two-step-build" title="Two-step build" class="md-nav__link">Two-step build</a></li></ul></nav></li><li class="md-nav__item"><a href="#how-to-build-an-mta-archive-from-the-modules-build-artifacts" title="How to build an MTA archive from the modules' build artifacts" class="md-nav__link">How to build an MTA archive from the modules' build artifacts</a></li><li class="md-nav__item"><a href="#auxiliary-commands" title="Auxiliary commands" class="md-nav__link">Auxiliary commands</a></li><li class="md-nav__item"><a href="#how-to-generate-an-sbom-file-from-the-project-source-beta" title="How to generate an SBOM file from the project source (BETA)" class="md-nav__link">How to generate an SBOM file from the project source (BETA)</a></li></ul></nav></li><li class="md-nav__item"><a href="../migration/" title="Migration" class="md-nav__link">Migration</a></li><li class="md-nav__item"><a href="../configuration/" title="Configuration" class="md-nav__link">Configuration</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7"><label class="md-nav__link" for="nav-7">Contribution</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-7">Contribution</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../process/" title="Process" class="md-nav__link">Process</a></li><li class="md-nav__item"><a href="../newmodule/" title="New Module" class="md-nav__link">New Module</a></li><li class="md-nav__item"><a href="../newbuilder/" title="New Builder" class="md-nav__link">New Builder</a></li></ul></nav></li><li class="md-nav__item"><a href="../support/" title="Support" class="md-nav__link">Support</a></li><li class="md-nav__item"><a href="../troubleshooting/" title="Troubleshooting" class="md-nav__link">Troubleshooting</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10"><label class="md-nav__link" for="nav-10">Tips</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-10">Tips</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../performance/" title="Performance" class="md-nav__link">Performance</a></li></ul></nav></li><li class="md-nav__item"><a href="../roadmap/" title="Roadmap" class="md-nav__link">Roadmap</a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#how-to-get-help-on-the-tools-commands" title="How to get help on the tools commands" class="md-nav__link">How to get help on the tools commands</a></li><li class="md-nav__item"><a href="#how-to-find-out-the-version-of-the-installed-tool" title="How to find out the version of the installed tool" class="md-nav__link">How to find out the version of the installed tool</a></li><li class="md-nav__item"><a href="#how-to-build-an-mta-archive-from-the-project-sources" title="How to build an MTA archive from the project sources" class="md-nav__link">How to build an MTA archive from the project sources</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#overview" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="#prerequisites" title="Prerequisites" class="md-nav__link">Prerequisites</a></li><li class="md-nav__item"><a href="#one-step-build" title="One-step build" class="md-nav__link">One-step build</a></li><li class="md-nav__item"><a href="#two-step-build" title="Two-step build" class="md-nav__link">Two-step build</a></li></ul></nav></li><li class="md-nav__item"><a href="#how-to-build-an-mta-archive-from-the-modules-build-artifacts" title="How to build an MTA archive from the modules' build artifacts" class="md-nav__link">How to build an MTA archive from the modules' build artifacts</a></li><li class="md-nav__item"><a href="#auxiliary-commands" title="Auxiliary commands" class="md-nav__link">Auxiliary commands</a></li><li class="md-nav__item"><a href="#how-to-generate-an-sbom-file-from-the-project-source-beta" title="How to generate an SBOM file from the project source (BETA)" class="md-nav__link">How to generate an SBOM file from the project source (BETA)</a></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><a href="https://github.com/SAP/cloud-mta-build-tool/edit/master/docs/docs/usage.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a><h1>Usage</h1><h3 id="how-to-get-help-on-the-tools-commands">How to get help on the tools commands</h3>
<table>
<thead>
<tr>
<th>Command</th>
<th>Usage &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>help</td>
<td><code>mbt -h</code></td>
<td>Prints all the available commands.</td>
</tr>
<tr>
<td>help</td>
<td><code>mbt [command] --help</code> or<br> <code>mbt [command] -h</code></td>
<td>Prints detailed information about the specified command.</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h3 id="how-to-find-out-the-version-of-the-installed-tool">How to find out the version of the installed tool</h3>
<table>
<thead>
<tr>
<th>Command</th>
<th>Usage &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>version</td>
<td><code>mbt -v</code></td>
<td>Prints the current Cloud MTA Build Tool version.                                        <br></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h3 id="how-to-build-an-mta-archive-from-the-project-sources">How to build an MTA archive from the project sources</h3>
<h4 id="overview">Overview</h4>
<p>You can use one of the following two approaches for building your MTA project:
- One-step build using the <code>mbt build</code> command
- Two-step build using a combination of the <code>mbt init</code> and <code>make</code> commands.</p>
<p>Both methods leverage the <code>GNU Make</code> technology for the actual build.  <br>
If you are using the one-step approach, the tool generates a temporary build configuration file and automatically invokes the <code>make</code> command. The generated <code>Makefile</code> is then deleted at the end of the build.  <br>
The second approach allows you to generate the <code>Makefile</code> using the <code>mbt init</code> command. You can adjust the generated file according to your project needs and then build the MTA archive using the <code>make</code> command. In this case, we recommend that you include the generated <code>Makefile</code> in the project's source control management system to ensure that the same build process is applied across all the project's contributors, regardless of the build environment. </p>
<h4 id="prerequisites">Prerequisites</h4>
<ul>
<li><code>GNU Make 4.2.1</code> is installed in your build environment. </li>
<li>Module build tools are installed in your build environment.</li>
</ul>
<p>For more information, see the corresponding <a href="../download/"><code>Download</code> and <code>Installation</code> sections</a>.</p>
<h4 id="one-step-build">One-step build</h4>
<p><b> Quick start example:</b></p>
<pre><code class="go">// Executes the MTA project build for the Cloud Foundry target environment.
mbt build

</code></pre>

<p><b><code>mbt build</code></b>
Generates a temporary <code>Makefile</code> according to the MTA descriptor and runs the <code>make</code> command to package the MTA project into the MTA archive.</p>
<p><b>Usage:</b> <code>mbt build &lt;flags&gt;</code></p>
<p><b>Flags:</b></p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Mandatory&nbsp;/<br>Optional</th>
<th>Description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th>Examples&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-p (--platform)</code></td>
<td>Optional</td>
<td>The name of the target deployment platform. <br>The supported deployment platforms are: <ul><li><code>cf</code> for SAP Cloud Platform, Cloud Foundry environment  <li><code>neo</code> for the SAP Cloud Platform, Neo environment <li><code>xsa</code> for the SAP HANA XS advanced model</ul> If this parameter is not provided, the project is built for the SAP Cloud Platform, Cloud Foundry environment</td>
<td><code>mbt build -p=cf</code></td>
</tr>
<tr>
<td><code>-s (--source)</code></td>
<td>Optional</td>
<td>The path to the MTA project; the current path is set as the default.</td>
<td><code>mbt build -p=cf -s=C:/TestProject</code></td>
</tr>
<tr>
<td><code>-t (--target)</code></td>
<td>Optional</td>
<td>The folder for the generated <code>MTAR</code> file. If this parameter is not provided, the <code>MTAR</code> file is saved in the <code>mta_archives</code> subfolder of the current folder. If the parameter is provided, the <code>MTAR</code> file is saved in the root of the folder provided by the argument.</td>
<td><code>mbt build -p=cf -t=C:/TestProject</code></td>
</tr>
<tr>
<td><code>--mtar</code></td>
<td>Optional</td>
<td>The file name of the generated archive file. If this parameter is omitted, the file name is created according to the following naming convention: <br><br> <code>&lt;mta_application_ID&gt;_&lt;mta_application_version&gt;.mtar</code> <br><br> If the parameter is provided, but does not include an extension, the <code>.mtar</code> extension is added.</td>
<td><code>mbt build -p=cf --mtar=TestProject.mtar</code></td>
</tr>
<tr>
<td><code>-e (--extensions)</code></td>
<td>Optional</td>
<td>The path or paths to multitarget application extension files (.mtaext). Several extension files separated by commas can be passed with a single flag, or each extension file can be specified with its own flag.</td>
<td><code>mbt build -e=test1.mtaext,test2.mtaext</code><br>or<br><code>mbt build -e=test1.mtaext -e=test2.mtaext</code></td>
</tr>
<tr>
<td><code>--strict</code></td>
<td>Optional</td>
<td>The default value is <code>true</code>. If set to <code>true</code>, the duplicated fields and fields that are not defined in the <code>mta.yaml</code> schema are reported as errors. If set to <code>false</code>, they are reported as warnings.</td>
<td><code>mbt build -p=cf --strict=true</code></td>
</tr>
<tr>
<td>BETA &nbsp;&nbsp;<code>-m (--mode)</code></td>
<td>Optional</td>
<td>The possible value is <code>verbose</code>. If run with this option, the temporary <code>Makefile</code> is generated in a way that allows the parallel execution of <code>Make</code> jobs to make the build process faster.</td>
<td><code>mbt build -m=verbose</code></td>
</tr>
<tr>
<td>BETA  &nbsp;&nbsp;<code>-j (--jobs)</code></td>
<td>Optional</td>
<td>Used only with the <code>--mode</code> parameter. This option configures the number of <code>Make</code> jobs that can run simultaneously. If omitted or if the value is less than or equal to zero, the number of jobs is defined by the number of available CPUs (maximum 8).</td>
<td><code>mbt build -m=verbose -j=8</code></td>
</tr>
<tr>
<td>BETA  &nbsp;&nbsp;<code>-b (--sbom-file-path)</code></td>
<td>Optional</td>
<td>The path of the SBOM file. The last part of the path is the file name. <br><ul><li>If the sbom-file-path is null, the SBOM file will not be generated.<li>The sbom-file-path can be relative or abs; If the path is relative, it is the relative path to the project root.<li>Only an XML file format is currently supported, so if the file suffix is .xml, or if there's no file suffix, an XML format SBOM will be generated.</ul></td>
<td><code>mbt build --sbom-file-path sbom-gen/test.sbom.xml</code></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h4 id="two-step-build">Two-step build</h4>
<p><b> Quick start example:</b></p>
<pre><code class="go">// Generates the `Makefile.mta` file.
mbt init 

// Executes the MTA project build for Cloud Foundry target environment.
make -f Makefile.mta p=cf

</code></pre>

<p><b><code>mbt init</code></b></p>
<p>Generates the <code>Makefile.mta</code> file according to the MTA descriptor (mta.yaml file). The <code>make</code> command uses the generated <code>Makefile.mta</code> file to package the MTA project. <br></p>
<p>&nbsp;</p>
<p><b>Usage:</b> <code>mbt init &lt;flags&gt;</code></p>
<p><b>Flags:</b></p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Mandatory&nbsp;/<br>Optional</th>
<th>Description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th>Examples&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-s (--source)</code></td>
<td>Optional</td>
<td>The path to the MTA project; the current path is set as the default.</td>
<td><code>mbt init -s=C:/TestProject</code></td>
</tr>
<tr>
<td><code>-t (--target)</code></td>
<td>Optional</td>
<td>The path to the generated <code>Makefile</code> folder; the current path is set as the default.</td>
<td><code>mbt init -t=C:/TestFolder</code></td>
</tr>
<tr>
<td><code>-e (--extensions)</code></td>
<td>Optional</td>
<td>The path or paths to multitarget application extension files (.mtaext). Several extension files separated by commas can be passed with a single flag, or each extension file can be specified with its own flag.</td>
<td><code>mbt init -e=test1.mtaext,test2.mtaext</code><br>or<br><code>mbt init -e=test1.mtaext -e=test2.mtaext</code></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p><b><code>make</code></b></p>
<p>Packages the MTA project into the MTA archive according to the <code>Makefile</code>.</p>
<p><b>Usage:</b> <code>make &lt;parameters&gt;</code></p>
<p><b>Parameters:</b></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory&nbsp;/<br>Optional</th>
<th>Description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-f &lt;path to Makefile.mta&gt;</code></td>
<td>string</td>
<td>Mandatory</td>
<td>The path to the <code>Makefile.mta</code> file that contains the build configurations.</td>
<td><code>make -f Makefile.mta p=cf</code></td>
</tr>
<tr>
<td><code>p</code></td>
<td>string</td>
<td>Mandatory</td>
<td>The name of the target deployment platform. <br>The supported deployment platforms are: <ul><li><code>cf</code> for the SAP Cloud Platform, Cloud Foundry environment  <li><code>neo</code> for the SAP Cloud Platform, Neo environment <li><code>xsa</code> for the SAP HANA XS advanced model</td>
<td><code>make -f Makefile.mta p=cf</code></td>
</tr>
<tr>
<td><code>t</code></td>
<td>string</td>
<td>Optional</td>
<td>The folder for the generated <code>MTAR</code> file. If this parameter is not provided, the <code>MTAR</code> file is saved in the <code>mta_archives</code> subfolder of the current folder. If the parameter is provided, the <code>MTAR</code> file is saved in the root of the folder provided by the argument.</td>
<td><code>make -f Makefile.mta p=cf t=C:\temp</code></td>
</tr>
<tr>
<td><code>mtar</code></td>
<td>string</td>
<td>Optional</td>
<td>The file name of the generated archive file. If this parameter is omitted, the file name is created according to the following naming convention: <br><br> <code>&lt;mta_application_ID&gt;_&lt;mta_application_version&gt;.mtar</code> <br><br> If the parameter is provided, but does not include an extension, the <code>.mtar</code> extension is added.</td>
<td><code>make -f Makefile.mta p=cf mtar=myMta</code><br><br> <code>make -f Makefile.mta p=cf mtar=myMta.mtar</code></td>
</tr>
<tr>
<td><code>strict</code></td>
<td>Boolean</td>
<td>Optional</td>
<td>The default value is <code>true</code>. If set to <code>true</code>, the duplicated fields and fields that are not defined in the <code>mta.yaml</code> schema are reported as errors. If set to <code>false</code>, they are reported as warnings.</td>
<td><code>make -f Makefile.mta p=cf strict=false</code></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h3 id="how-to-build-an-mta-archive-from-the-modules-build-artifacts">How to build an MTA archive from the modules' build artifacts</h3>
<p><b><code>mbt assemble</code></b></p>
<p>Creates an MTA archive <code>MTAR</code> file from the module build artifacts according to the MTA deployment descriptor (<code>mtad.yaml</code> file). </p>
<blockquote>
<p><b>Note</b>: Make sure the path property of each module's <code>mtad.yaml</code> file points to the module's build artifacts that you want to package into the target MTA archive.</p>
</blockquote>
<p><b>Usage:</b> <code>mbt assemble &lt;flags&gt;</code></p>
<p><b>Flags:</b></p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Mandatory&nbsp;/<br>Optional</th>
<th>Description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th>Examples&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-s (--source)</code></td>
<td>Optional</td>
<td>The path to the folder where the project’s <code>mtad.yaml</code> file is located; the current path is set as the default.</td>
<td><code>mbt assemble  -s=C:/TestProject</code></td>
</tr>
<tr>
<td><code>-t (--target)</code></td>
<td>Optional</td>
<td>The folder for the generated <code>MTAR</code> file. If this parameter is not provided, the <code>MTAR</code> file is saved in the <code>mta_archives</code> subfolder of the current folder. If the parameter is provided, the <code>MTAR</code> file is saved in the root of the folder provided by the argument.</td>
<td><code>mbt assemble  -t=C:/TestFolder</code></td>
</tr>
<tr>
<td><code>-m (--mtar)</code></td>
<td>Optional</td>
<td>The name of the generated archive file. If this parameter is omitted, the file name is created according to the following naming convention: <br><br> <code>&lt;mta_application_ID&gt;_&lt;mta_application_version&gt;.mtar</code> <br><br> If the parameter is provided, but does not include an extension, the <code>.mtar</code> extension is added.</td>
<td><code>mbt assemble  -m=anotherName</code></td>
</tr>
<tr>
<td><code>-e (--extensions)</code></td>
<td>Optional</td>
<td>The path or paths to multitarget application extension files (<code>.mtaext</code>). Several extension files separated by commas can be passed with a single flag, or each extension file can be specified with its own flag.</td>
<td><code>mbt assemble -e=test1.mtaext,test2.mtaext</code><br>or<br><code>mbt assemble -e=test1.mtaext -e=test2.mtaext</code></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h3 id="auxiliary-commands">Auxiliary commands</h3>
<p>This section is dedicated for commands that execute specific steps of the MTA build process such as project validation, build for a single module, and generation of the deployment descriptor. These commands are useful if, for example, you want to build and deploy only specific modules for testing purposes, or if you decide to tailor your own build process for packaging MTA archives.  At the moment, only the commands described below are supported. </p>
<p><b><code>mbt mtad-gen</code></b></p>
<p>Generates the MTA deployment descriptor (<code>mtad.yaml</code> file) according to the provided MTA descriptor (<code>mta.yaml</code> file) and MTA extensions. </p>
<p><b>Usage:</b> <code>mbt mtad-gen &lt;flags&gt;</code></p>
<p><b>Flags:</b></p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Mandatory&nbsp;/<br>Optional</th>
<th>Description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th>Examples&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-p (--platform)</code></td>
<td>Optional</td>
<td>The name of the target deployment platform. <br>The supported deployment platforms are: <ul><li><code>cf</code> for SAP Cloud Platform, Cloud Foundry environment  <li><code>neo</code> for the SAP Cloud Platform, Neo environment <li><code>xsa</code> for the SAP HANA XS advanced model</ul> If this parameter is not provided, the project is built for the SAP Cloud Platform, Cloud Foundry environment</td>
<td><code>mbt mtad-gen -p=cf</code></td>
</tr>
<tr>
<td><code>-s (--source)</code></td>
<td>Optional</td>
<td>The path to the folder where the project’s <code>mta.yaml</code> file is located; the current path is set as default.</td>
<td><code>mbt mtad-gen  -s=C:/TestProject</code></td>
</tr>
<tr>
<td><code>-t (--target)</code></td>
<td>Optional</td>
<td>The folder where the <code>mtad.yaml</code> will be generated. If this parameter is not provided, the <code>mtad.yaml</code> file is saved in the current folder. If the parameter is provided, the generated file is saved in the root of the folder provided by the argument.</td>
<td><code>mbt mtad-gen  -t=C:/TestFolder</code></td>
</tr>
<tr>
<td><code>-e (--extensions)</code></td>
<td>Optional</td>
<td>The path or paths to multitarget application extension files (<code>.mtaext</code>). Several extension files separated by commas can be passed with a single flag, or each extension file can be specified with its own flag.</td>
<td><code>mbt mtad-gen -e=test1.mtaext,test2.mtaext</code><br>or<br><code>mbt mtad-gen -e=test1.mtaext -e=test2.mtaext</code></td>
</tr>
</tbody>
</table>
<p><br>
<br></p>
<p><b><code>mbt module-build</code></b></p>
<p>Triggers the build process of the specified module according to the implicit or explicit build configurations in the MTA descriptor (<code>mta.yaml</code> file) and MTA extensions.</p>
<p><b>Usage:</b> <code>mbt module-build &lt;flags&gt;</code></p>
<p><b>Flags:</b></p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Mandatory&nbsp;/<br>Optional</th>
<th>Description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th>Examples&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>m (--module)</code></td>
<td>Mandatory</td>
<td>The name of the modules to build. Several modules separated by commas can be passed with a single flag, or each module can be specified with its own flag.<br><br> <b>Notes</b>:<ul><li>If you specify several modules with a single flag, make sure there are no spaces between the names. <li>The tool builds the specified modules in the order defined by the build parameters in the <code>mta.yaml</code> file. If the specified modules depend on other modules that should be built before, run the command with the <code>--with-all-dependencies</code> flag or specify the required modules explicitly.<li>If the <code>--target</code> parameter is used, make sure that the names of the specified modules' build artifacts are unique. You can configure the build artifact name using the <code>build-artifact-name</code> build parameter as described <a href="../configuration/#configuring-the-build-artifact-name">here</a>.   </ul></td>
<td><code>mbt module-build -m=my_module,another_module</code> <br>or<br><code>mbt module-build -m=my_module -m=another_module</code></td>
</tr>
<tr>
<td><code>-a (--with-all-dependencies)</code></td>
<td>Optional</td>
<td>If this option is used, the tool builds all modules that the specified modules depend on in the order defined by the build parameters in the <code>mta.yaml</code> file before building the selected modules.<br>Without this option, only the selected modules are built.</td>
<td><code>mbt module-build -m=my_module,another_module  -a</code></td>
</tr>
<tr>
<td><code>-s (--source)</code></td>
<td>Optional</td>
<td>The path to the folder where the project’s <code>mta.yaml</code> file is located; the current path is set as default.</td>
<td><code>mbt module-build -m=my_module  -s=C:/TestProject</code></td>
</tr>
<tr>
<td><code>-t (--target)</code></td>
<td>Optional</td>
<td>The folder where the module build results will be saved. If this parameter is not provided, the module build results are saved in the <code>&lt;current folder&gt;/.&lt;projectname&gt;_mta_build_tmp/&lt;module name&gt;</code> folder. If  the parameter is provided, the build results are saved in the root of the folder provided by the argument. <br><br><b>Notes:</b><ul><li> If this option is used, the 'target' folder content (if it exists), will be excluded from the build results. <li>If the <code>--target</code> parameter is used when building several modules, make sure that the names of the specified modules' build artifacts are unique. You can configure the build artifact name using the <code>build-artifact-name</code> build parameter as described <a href="../configuration/#configuring-the-build-artifact-name">here</a>.</ul></td>
<td><code>mbt module-build -m=my_module  -t=C:/TestProject/build_results_tmp</code><br> <br>The module’s build results will be saved directly in the <code>C:/TestProject/build_results_tmp/</code> folder</td>
</tr>
<tr>
<td><code>-e (--extensions)</code></td>
<td>Optional</td>
<td>The path or paths to multitarget application extension files (<code>.mtaext</code>). Several extension files separated by commas can be passed with a single flag, or each extension file can be specified with its own flag.</td>
<td><code>mbt module-build -m=my_module -e=test1.mtaext,test2.mtaext</code><br>or<br><code>mbt module-build -m=my_module -e=test1.mtaext -e=test2.mtaext</code></td>
</tr>
<tr>
<td><code>-g (--mtad-gen)</code></td>
<td>Optional</td>
<td>If the parameter is provided, the deployment descriptor <code>mtad.yaml</code> is generated by default in the current folder or in the folder configured by the <code>--target</code> parameter. <br> A module's <code>path</code> property in the generated <code>mtad.yaml</code> file points to the module's build results if this module was selected using the <code>--modules</code> option. <br><br> <b>Notes</b>:<ul><li>The selected module list specified using the <code>--module</code> option, does not affect the list of modules in the resulting <code>mtad.yaml</code> file. The <code>mtad.yaml</code> file is always generated according to the default Cloud MTA Builder settings, the <code>build-parameters</code> configurations in the <code>mta.yaml</code> file (e.g. <code>supported-platforms</code>), and the selected target platform.<li>By default, the <code>mtad.yaml</code> is generated for the <code>cf</code> target platform. You can configure a different target plaform using the <code>--platform</code> option.</td>
<td><code>mbt module-build -m=my_module1,my_module2 -g</code></td>
</tr>
<tr>
<td><code>-p (--platform)</code></td>
<td>Optional</td>
<td>The name of the target deployment platform. Used only with the <code>-g (--mtad-gen)</code> parameter. <br>The supported deployment platforms are: <ul><li><code>cf</code> for SAP Cloud Platform, Cloud Foundry environment  <li><code>neo</code> for the SAP Cloud Platform, Neo environment <li><code>xsa</code> for the SAP HANA XS advanced model</ul> If this parameter is not provided, the <code>mtad.yaml</code> file is generated for the SAP Cloud Platform, Cloud Foundry environment.</td>
<td><code>mbt module-build -m=my_module1,my_module2 -g -p=neo</code></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h3 id="how-to-generate-an-sbom-file-from-the-project-source-beta">How to generate an SBOM file from the project source (BETA)</h3>
<p><b><code>mbt sbom-gen</code></b>
This command generates SBOMs for project modules and merges the SBOMs into one, according to configurations in the MTA development descriptor ('mta.yaml' file).</p>
<p><b>Usage:</b> <code>mbt sbom-gen &lt;flags&gt;</code></p>
<p><b>Flags:</b></p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Mandatory&nbsp;/<br>Optional</th>
<th>Description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th>Examples&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-s (--source)</code></td>
<td>Optional</td>
<td>The path to the MTA project; the current path is set as the default.</td>
<td><code>mbt sbom-gen -s C:/TestProject -b sbom-file-gen/test.sbom.xml</code></td>
</tr>
<tr>
<td><code>-b (--sbom-file-path)</code></td>
<td>Optional</td>
<td>The path of the SBOM file. The last part of the path is the file name. <br><ul><li>The sbom-file-path can be null. If the sbom-file-path is null, the default value is <MTA_project_path>/<MTA_project_id>.bom.xml.<li>The sbom-file-path can be relative or abs; If the path is relative, it is the relative path to the project root.<li>The sbom-file-path's last part is the file name.<li>Only the XML file format is currently supported; So, if the file suffix is .xml, or if there's no file suffix, an XML format SBOM will be generated.</ul></td>
<td><code>mbt sbom-gen --sbom-file-path sbom-gen/test.sbom.xml</code></td>
</tr>
</tbody>
</table></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../tools/" title="Tools" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Previous</span>Tools</span></div></a><a href="../migration/" title="Migration" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Next</span>Migration</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright">powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div></div></div></footer></div><script src="../assets/javascripts/application.b260a35d.js"></script><script>app.initialize({version:"1.0.4",url:{base:".."}})</script></body></html>